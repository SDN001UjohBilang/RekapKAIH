<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rekap Jurnal KAIH - SDN 001 Ujong Bilah</title>
   
    <!-- 1. Styling (Tailwind CSS) -->
    <script src="https://cdn.tailwindcss.com"></script>
   
    <!-- 2. React Core -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
   
    <!-- 3. Babel (Translator) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
   
    <!-- 4. PapaParse (CSV Reader) -->
    <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        brand: { 50: '#eff6ff', 100: '#dbeafe', 500: '#3b82f6', 600: '#2563eb', 700: '#1d4ed8', 900: '#1e3a8a' }
                    }
                },
            },
        }
    </script>
    <style>
        ::-webkit-scrollbar { width: 4px; height: 4px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        body { background-color: #f8fafc; }
        
        @media print {
            @page { size: A4 landscape; margin: 10mm; }
            html, body, #root, main { 
                background-color: white !important; 
                height: auto !important;
                min-height: auto !important;
                overflow: visible !important;
                display: block !important;
                position: relative !important;
            }
            nav, .no-print, .filters-container { display: none !important; }
            .print-container { 
                display: block !important;
                padding: 0 !important; 
                margin: 0 !important; 
                box-shadow: none !important; 
                border: none !important; 
                width: 100% !important;
                max-width: none !important;
                position: absolute !important;
                top: 0 !important;
                left: 0 !important;
            }
            .table-container { overflow: visible !important; }
            table { font-size: 9pt !important; width: 100% !important; border-collapse: collapse !important; }
            th, td { border: 1px solid #000 !important; padding: 4px 2px !important; color: #000 !important; }
            thead tr { background-color: #f1f5f9 !important; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
            .signature-section { page-break-inside: avoid; margin-top: 15mm !important; }
        }
    </style>
</head>
<body>

    <div id="root"></div>

    <script>
        window.onerror = function(message, source, lineno, colno, error) {
            document.getElementById('root').innerHTML = `
                <div class="p-4 bg-red-50 text-red-800 border border-red-200 rounded-lg max-w-lg mx-auto mt-10 text-center">
                    <h3 class="font-bold">Terjadi Kesalahan</h3>
                    <p class="text-sm mt-2">${message}</p>
                </div>
            `;
        };
    </script>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        const Icon = ({ path, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>{path}</svg>
        );

        const Icons = {
            Activity: (p) => <Icon {...p} path={<polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />} />,
            LayoutDashboard: (p) => <Icon {...p} path={<><rect x="3" y="3" width="7" height="9" /><rect x="14" y="3" width="7" height="5" /><rect x="14" y="12" width="7" height="9" /><rect x="3" y="16" width="7" height="5" /></>} />,
            FileText: (p) => <Icon {...p} path={<><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" /><polyline points="14 2 14 8 20 8" /><line x1="16" y1="13" x2="8" y2="13" /><line x1="16" y1="17" x2="8" y2="17" /><polyline points="10 9 9 9 8 9" /></>} />,
            Printer: (p) => <Icon {...p} path={<><polyline points="6 9 6 2 18 2 18 9" /><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2" /><rect x="6" y="14" width="12" height="8" /></>} />,
            Table2: (p) => <Icon {...p} path={<><rect width="18" height="18" x="3" y="3" rx="2" ry="2" /><line x1="3" x2="21" y1="9" y2="9" /><line x1="3" x2="21" y1="15" y2="15" /><line x1="12" x2="12" y1="3" y2="21" /></>} />,
            TrendingUp: (p) => <Icon {...p} path={<><polyline points="23 6 13.5 15.5 8.5 10.5 1 18" /><polyline points="17 6 23 6 23 12" /></>} />,
            Users: (p) => <Icon {...p} path={<><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" /><circle cx="9" cy="7" r="4" /><path d="M23 21v-2a4 4 0 0 0-3-3.87" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /></>} />,
            CheckCircle: (p) => <Icon {...p} path={<><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" /><polyline points="22 4 12 14.01 9 11.01" /></>} />,
            Calendar: (p) => <Icon {...p} path={<><rect x="3" y="4" width="18" height="18" rx="2" ry="2" /><line x1="16" y1="2" x2="16" y2="6" /><line x1="8" y1="2" x2="8" y2="6" /><line x1="3" y1="10" x2="21" y2="10" /></>} />,
            Clock: (p) => <Icon {...p} path={<><circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" /></>} />,
            LogOut: (p) => <Icon {...p} path={<><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" /><polyline points="16 17 21 12 16 7" /><line x1="21" y1="12" x2="9" y2="12" /></>} />,
            Lock: (p) => <Icon {...p} path={<><rect x="3" y="11" width="18" height="11" rx="2" ry="2" /><path d="M7 11V7a5 5 0 0 1 10 0v4" /></>} />,
        };

        const CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQAXbdZYzJaet9BD-YWZQw4--W4JuPFAZMHjALokOU2ZAWlaVDewwONcas0KGrf8TXn29w3HkiA4P2t/pub?gid=1282082802&single=true&output=csv';

        const HABITS = [
            'Bangun Pagi', 
            'Beribadah', 
            'Berolahraga', 
            'Makan Sehat & Bergizi',
            'Gemar Belajar', 
            'Bermasyarakat', 
            'Tidur Cepat'
        ];

        const MONTHS = [
            "Januari", "Februari", "Maret", "April", "Mei", "Juni",
            "Juli", "Agustus", "September", "Oktober", "November", "Desember"
        ];
        
        const DAYS = Array.from({length: 31}, (_, i) => i + 1);

        const WEEKS = [
            { id: 1, label: 'Minggu 1 (Tgl 1-7)', start: 1, end: 7 },
            { id: 2, label: 'Minggu 2 (Tgl 8-14)', start: 8, end: 14 },
            { id: 3, label: 'Minggu 3 (Tgl 15-21)', start: 15, end: 21 },
            { id: 4, label: 'Minggu 4 (Tgl 22-Akhir)', start: 22, end: 31 },
        ];

        function JurnalKAIHApp() {
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [loginUser, setLoginUser] = useState('');
            const [loginPass, setLoginPass] = useState('');
            const [loginError, setLoginError] = useState('');
            const [rawData, setRawData] = useState([]);
            const [loading, setLoading] = useState(true);
            const [activeTab, setActiveTab] = useState('rekap'); 
            const [selectedClass, setSelectedClass] = useState('');
            const [selectedDay, setSelectedDay] = useState(new Date().getDate());
            const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth());
            const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());
            const [selectedWeekId, setSelectedWeekId] = useState(1);

            const handleLogin = (e) => {
                e.preventDefault();
                if (loginUser === 'sdn001uboke' && loginPass === '123456') {
                    setIsLoggedIn(true);
                    setLoginError('');
                } else {
                    setLoginError('Username atau Password salah!');
                }
            };

            const handleLogout = () => {
                setIsLoggedIn(false);
                setLoginUser('');
                setLoginPass('');
                setActiveTab('rekap');
            };

            const getRawValue = (row, keyPart) => {
                const key = Object.keys(row).find(k => k.toLowerCase().includes(keyPart.toLowerCase()));
                return (row[key] || '').toString().trim();
            };

            const isTruthy = (val) => {
                if (!val) return false;
                const s = val.toString().toLowerCase().trim();
                const negatives = ['tidak', 'no', 'false', '0', 'belum', '-', 'n/a'];
                return s.length > 0 && !negatives.includes(s);
            };

            const fetchData = () => {
                setLoading(true);
                Papa.parse(CSV_URL, {
                    download: true, header: true, skipEmptyLines: true,
                    complete: (results) => {
                        try {
                            const cleanData = results.data.map(row => {
                                const h1Raw = getRawValue(row, 'Bangun Pagi');
                                const h7Raw = getRawValue(row, 'Tidur Cepat') || getRawValue(row, 'Tidur');
                                return {
                                    timestamp: new Date(row['Timestamp'] || row['Tanggal'] || row['Date'] || new Date()),
                                    kelas: (row['Kelas'] || row['Class'] || 'Tidak Diketahui').toUpperCase().trim(),
                                    nama: (row['Nama Siswa'] || row['Nama'] || 'Siswa').toUpperCase().trim(),
                                    h1: isTruthy(h1Raw),
                                    h1Label: h1Raw,
                                    h2: isTruthy(getRawValue(row, 'Beribadah')),
                                    h3: isTruthy(getRawValue(row, 'Berolahraga')),
                                    h4: isTruthy(getRawValue(row, 'Makan Sehat')),
                                    h5: isTruthy(getRawValue(row, 'Gemar Belajar')),
                                    h6: isTruthy(getRawValue(row, 'Bermasyarakat')),
                                    h7: isTruthy(h7Raw),
                                    h7Label: h7Raw
                                };
                            }).filter(item => item.kelas !== 'Tidak Diketahui' && !isNaN(item.timestamp.getTime()));
                            
                            setRawData(cleanData);
                            if(cleanData.length > 0) {
                                const classes = [...new Set(cleanData.map(d => d.kelas))].sort();
                                if (classes.length > 0 && !selectedClass) setSelectedClass(classes[0]);
                            }
                            setLoading(false);
                        } catch (err) {
                            console.error(err); setLoading(false);
                        }
                    },
                    error: (err) => {
                        console.error(err); 
                        setLoading(false);
                    }
                });
            };

            useEffect(() => { if (isLoggedIn) { fetchData(); } }, [isLoggedIn]);

            const availableClasses = useMemo(() => {
                return [...new Set(rawData.map(d => d.kelas))].sort();
            }, [rawData]);

            const processPeriodicData = (isWeekly = false) => {
                if (!selectedClass) return [];
                let weekRange = { start: 0, end: 32 };
                if (isWeekly) {
                    weekRange = WEEKS.find(w => w.id === parseInt(selectedWeekId)) || WEEKS[0];
                }
                const filtered = rawData.filter(d => 
                    d.kelas === selectedClass &&
                    d.timestamp.getMonth() === parseInt(selectedMonth) &&
                    d.timestamp.getFullYear() === parseInt(selectedYear) &&
                    d.timestamp.getDate() >= weekRange.start &&
                    d.timestamp.getDate() <= weekRange.end
                );
                const studentGroups = {};
                filtered.forEach(d => {
                    if (!studentGroups[d.nama]) {
                        studentGroups[d.nama] = { nama: d.nama, h1: 0, h2: 0, h3: 0, h4: 0, h5: 0, h6: 0, h7: 0 };
                    }
                    const g = studentGroups[d.nama];
                    if(d.h1) g.h1++; if(d.h2) g.h2++; if(d.h3) g.h3++; if(d.h4) g.h4++;
                    if(d.h5) g.h5++; if(d.h6) g.h6++; if(d.h7) g.h7++;
                });
                return Object.values(studentGroups)
                    .map(s => ({ ...s, totalCeklist: s.h1 + s.h2 + s.h3 + s.h4 + s.h5 + s.h6 + s.h7 }))
                    .sort((a, b) => a.nama.localeCompare(b.nama));
            };

            const rekapBulananData = useMemo(() => processPeriodicData(false), [rawData, selectedClass, selectedMonth, selectedYear]);
            const rekapMingguanData = useMemo(() => processPeriodicData(true), [rawData, selectedClass, selectedMonth, selectedYear, selectedWeekId]);

            const rekapHarianData = useMemo(() => {
                if (!selectedClass) return [];
                const filtered = rawData.filter(d => 
                    d.kelas === selectedClass &&
                    d.timestamp.getDate() === parseInt(selectedDay) &&
                    d.timestamp.getMonth() === parseInt(selectedMonth) &&
                    d.timestamp.getFullYear() === parseInt(selectedYear)
                );
                const studentGroups = {};
                filtered.forEach(d => {
                    if (!studentGroups[d.nama]) {
                        studentGroups[d.nama] = { nama: d.nama, h1: '', h2: false, h3: false, h4: false, h5: false, h6: false, h7: '' };
                    }
                    const g = studentGroups[d.nama];
                    const formatVal = (raw) => {
                        const s = raw.toLowerCase().trim();
                        if (s === 'ya' || s === 'sudah' || s === 'true') return '✓';
                        return raw;
                    };
                    if(d.h1) g.h1 = formatVal(d.h1Label);
                    if(d.h2) g.h2 = true; if(d.h3) g.h3 = true; if(d.h4) g.h4 = true;
                    if(d.h5) g.h5 = true; if(d.h6) g.h6 = true; 
                    if(d.h7) g.h7 = formatVal(d.h7Label);
                });
                return Object.values(studentGroups)
                    .map(s => ({ ...s, totalCeklist: [s.h1, s.h2, s.h3, s.h4, s.h5, s.h6, s.h7].filter(v => v === true || (typeof v === 'string' && v !== '')).length }))
                    .sort((a, b) => a.nama.localeCompare(b.nama));
            }, [rawData, selectedClass, selectedDay, selectedMonth, selectedYear]);

            const handlePrint = (type) => {
                const oldTitle = document.title;
                document.title = `Rekap_Jurnal_${selectedClass}_${MONTHS[selectedMonth]}`;
                window.print();
                setTimeout(() => { document.title = oldTitle; }, 1000);
            };

            const SignatureBlock = ({ title, dateInfo, isLeader = false }) => (
                <div className="text-center w-1/3">
                    <p className={`${isLeader ? 'font-bold' : ''} mb-16`}>
                        {title}
                        {dateInfo && <><br/>{dateInfo}</>}
                    </p>
                    <div className="inline-block text-left">
                        <p className="font-bold border-b border-black w-48">( .................................. )</p>
                        <p className="text-[8pt] mt-1">NIP.</p>
                    </div>
                </div>
            );

            if (!isLoggedIn) {
                return (
                    <div className="min-h-screen bg-slate-100 flex items-center justify-center p-4">
                        <div className="bg-white p-8 rounded-xl shadow-lg w-full max-w-sm border border-slate-200">
                            <div className="text-center mb-6">
                                <div className="bg-brand-600 w-12 h-12 rounded-lg text-white flex items-center justify-center mx-auto mb-3 shadow-md">
                                    <Icons.Lock className="w-6 h-6" />
                                </div>
                                <h1 className="text-xl font-bold text-slate-800">SDN 001 Ujong Bilah</h1>
                                <p className="text-slate-500 text-xs mt-1">Akses Sistem Rekapitulasi</p>
                            </div>
                            <form onSubmit={handleLogin} className="space-y-4">
                                {loginError && <div className="bg-red-50 text-red-600 p-2 rounded text-xs text-center border border-red-100">{loginError}</div>}
                                <div>
                                    <label className="block text-[10px] font-bold text-slate-500 uppercase mb-1">Username</label>
                                    <input type="text" value={loginUser} onChange={(e) => setLoginUser(e.target.value)} className="w-full p-2 text-sm border border-slate-300 rounded focus:ring-2 focus:ring-brand-500 outline-none" placeholder="sdn001uboke" />
                                </div>
                                <div>
                                    <label className="block text-[10px] font-bold text-slate-500 uppercase mb-1">Password</label>
                                    <input type="password" value={loginPass} onChange={(e) => setLoginPass(e.target.value)} className="w-full p-2 text-sm border border-slate-300 rounded focus:ring-2 focus:ring-brand-500 outline-none" placeholder="••••••" />
                                </div>
                                <button type="submit" className="w-full bg-brand-600 hover:bg-brand-700 text-white font-bold py-2 rounded shadow transition transform active:scale-95">Masuk</button>
                            </form>
                        </div>
                    </div>
                );
            }

            return (
                <div className="font-sans text-slate-800 min-h-screen bg-slate-50 flex flex-col">
                    <nav className="bg-white border-b border-slate-200 sticky top-0 z-20 shadow-sm px-4 py-2 no-print">
                        <div className="max-w-7xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-3">
                            <div className="flex items-center gap-2">
                                <div className="bg-brand-600 p-1.5 rounded-lg text-white"><Icons.Activity className="w-5 h-5" /></div>
                                <div><h1 className="font-bold text-slate-900 text-base leading-none">Rekap Jurnal KAIH</h1><p className="text-[10px] text-slate-500 font-medium">SDN 001 Ujong Bilah</p></div>
                            </div>
                            <div className="flex bg-slate-100 p-1 rounded-lg overflow-x-auto">
                                {[
                                    { id: 'rekap', label: 'Bulanan', icon: Icons.FileText },
                                    { id: 'rekapMingguan', label: 'Mingguan', icon: Icons.Calendar },
                                    { id: 'rekapHarian', label: 'Harian', icon: Icons.Clock },
                                ].map(tab => (
                                    <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`flex items-center gap-2 px-3 py-1 text-xs font-medium rounded transition ${activeTab === tab.id ? 'bg-white text-brand-700 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}>
                                        <tab.icon className="w-3 h-3" /> {tab.label}
                                    </button>
                                ))}
                            </div>
                            <button onClick={handleLogout} className="p-2 text-slate-400 hover:text-red-500 rounded-lg"><Icons.LogOut className="w-5 h-5" /></button>
                        </div>
                    </nav>

                    <main className="flex-1 p-2 md:p-6 max-w-7xl mx-auto w-full">
                        <div className="bg-white p-4 rounded-lg border border-slate-200 mb-4 no-print filters-container flex flex-wrap gap-4 items-end shadow-sm">
                            <div className="flex flex-wrap gap-3">
                                <div className="w-32"><label className="block text-[10px] font-bold text-slate-400 uppercase mb-1">Kelas</label>
                                    <select value={selectedClass} onChange={(e) => setSelectedClass(e.target.value)} className="w-full text-sm p-1.5 border border-slate-200 rounded">{availableClasses.map(c => <option key={c} value={c}>{c}</option>)}</select>
                                </div>
                                <div className="w-32"><label className="block text-[10px] font-bold text-slate-400 uppercase mb-1">Bulan</label>
                                    <select value={selectedMonth} onChange={(e) => setSelectedMonth(e.target.value)} className="w-full text-sm p-1.5 border border-slate-200 rounded">{MONTHS.map((m, i) => <option key={i} value={i}>{m}</option>)}</select>
                                </div>
                                {activeTab === 'rekapMingguan' && (
                                    <div className="w-44"><label className="block text-[10px] font-bold text-slate-400 uppercase mb-1">Minggu</label>
                                        <select value={selectedWeekId} onChange={(e) => setSelectedWeekId(e.target.value)} className="w-full text-sm p-1.5 border border-slate-200 rounded">{WEEKS.map(w => <option key={w.id} value={w.id}>{w.label}</option>)}</select>
                                    </div>
                                )}
                                {activeTab === 'rekapHarian' && (
                                    <div className="w-24"><label className="block text-[10px] font-bold text-slate-400 uppercase mb-1">Tanggal</label>
                                        <select value={selectedDay} onChange={(e) => setSelectedDay(e.target.value)} className="w-full text-sm p-1.5 border border-slate-200 rounded">{DAYS.map(d => <option key={d} value={d}>{d}</option>)}</select>
                                    </div>
                                )}
                            </div>
                            <div className="flex-grow"></div>
                            <button onClick={handlePrint} className="bg-brand-600 hover:bg-brand-700 text-white px-4 py-1.5 rounded text-sm font-medium flex items-center gap-2"><Icons.Printer className="w-4 h-4" /> Cetak / PDF</button>
                        </div>

                        <div className="bg-white shadow-lg p-8 mx-auto w-full max-w-[297mm] min-h-[210mm] print-container relative text-slate-900 overflow-hidden">
                            <div className="text-center mb-6">
                                <h2 className="text-xl font-bold uppercase">{activeTab === 'rekapHarian' ? 'Laporan Harian' : activeTab === 'rekapMingguan' ? 'Laporan Mingguan' : 'Rekapitulasi Bulanan'} Jurnal KAIH</h2>
                                <div className="flex justify-between mt-4 text-[10pt] font-medium border-b-2 border-slate-800 pb-2">
                                    <div className="text-left"><p>Sekolah: SDN 001 Ujong Bilah</p><p>Kelas: {selectedClass || '-'}</p></div>
                                    <div className="text-right">
                                        <p>Periode: {activeTab === 'rekapHarian' ? `${selectedDay} ` : activeTab === 'rekapMingguan' ? `${WEEKS.find(w => w.id == selectedWeekId)?.label} ` : ''}{MONTHS[selectedMonth]} {selectedYear}</p>
                                    </div>
                                </div>
                            </div>

                            <table className="w-full border-collapse">
                                <thead>
                                    <tr className="bg-slate-50 text-center font-bold">
                                        <th className="w-8">No</th>
                                        <th>Nama Siswa</th>
                                        {HABITS.map((h, i) => (
                                            <th key={i} className={activeTab === 'rekapHarian' && (i === 0 || i === 6) ? 'w-[15%]' : 'w-[10%]'}>{h}</th>
                                        ))}
                                        <th className="w-16 bg-slate-100">Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {loading ? (
                                        <tr><td colSpan="10" className="text-center p-8 italic text-slate-400">Memuat data...</td></tr>
                                    ) : (activeTab === 'rekap' ? rekapBulananData : activeTab === 'rekapMingguan' ? rekapMingguanData : rekapHarianData).length === 0 ? (
                                        <tr><td colSpan="10" className="text-center p-8 italic text-slate-400">Data belum tersedia untuk periode ini.</td></tr>
                                    ) : (
                                        (activeTab === 'rekap' ? rekapBulananData : activeTab === 'rekapMingguan' ? rekapMingguanData : rekapHarianData).map((s, idx) => (
                                            <tr key={idx} className="text-center hover:bg-slate-50">
                                                <td>{idx + 1}</td>
                                                <td className="text-left px-2 font-medium">{s.nama}</td>
                                                {activeTab === 'rekapHarian' ? (
                                                    <>
                                                        <td className="font-mono text-blue-600">{s.h1 || '-'}</td>
                                                        <td>{s.h2 ? '✓' : '-'}</td>
                                                        <td>{s.h3 ? '✓' : '-'}</td>
                                                        <td>{s.h4 ? '✓' : '-'}</td>
                                                        <td>{s.h5 ? '✓' : '-'}</td>
                                                        <td>{s.h6 ? '✓' : '-'}</td>
                                                        <td className="font-mono text-blue-600">{s.h7 || '-'}</td>
                                                    </>
                                                ) : (
                                                    <>
                                                        <td>{s.h1 || '-'}</td><td>{s.h2 || '-'}</td><td>{s.h3 || '-'}</td><td>{s.h4 || '-'}</td>
                                                        <td>{s.h5 || '-'}</td><td>{s.h6 || '-'}</td><td>{s.h7 || '-'}</td>
                                                    </>
                                                )}
                                                <td className="font-bold bg-slate-50">{s.totalCeklist}</td>
                                            </tr>
                                        ))
                                    )}
                                </tbody>
                            </table>

                            <div className="mt-12 flex justify-between text-[10pt] signature-section">
                                <SignatureBlock title="Mengetahui," dateInfo="Kepala Sekolah" isLeader={true} />
                                <SignatureBlock title={`Ujong Bilah, ................. ${selectedYear}`} dateInfo="Guru Kelas" />
                            </div>
                        </div>
                    </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<JurnalKAIHApp />);
    </script>
</body>
</html>
